.. java:import:: android.app Activity

.. java:import:: android.content DialogInterface

.. java:import:: android.os AsyncTask

.. java:import:: android.os Bundle

.. java:import:: android.support.v7.app AlertDialog

.. java:import:: android.support.v7.app AppCompatActivity

.. java:import:: android.support.v7.widget Toolbar

.. java:import:: android.text SpannableStringBuilder

.. java:import:: android.text.method LinkMovementMethod

.. java:import:: android.util SparseArray

.. java:import:: android.util SparseBooleanArray

.. java:import:: android.view Menu

.. java:import:: android.view MenuInflater

.. java:import:: android.view MenuItem

.. java:import:: android.view View

.. java:import:: android.widget Button

.. java:import:: android.widget ProgressBar

.. java:import:: android.widget TextView

.. java:import:: com.android.volley Request

.. java:import:: com.android.volley RequestQueue

.. java:import:: com.android.volley Response

.. java:import:: com.android.volley VolleyError

.. java:import:: com.android.volley.toolbox Volley

.. java:import:: org.codethechange.culturemesh.models Network

.. java:import:: org.codethechange.culturemesh.models Post

.. java:import:: java.util Date

CreatePostActivity
==================

.. java:package:: org.codethechange.culturemesh
   :noindex:

.. java:type:: public class CreatePostActivity extends AppCompatActivity implements FormatManager.IconUpdateListener

Fields
------
content
^^^^^^^

.. java:field::  ListenableEditText content
   :outertype: CreatePostActivity

formatManager
^^^^^^^^^^^^^

.. java:field::  FormatManager formatManager
   :outertype: CreatePostActivity

menuItems
^^^^^^^^^

.. java:field::  SparseArray<MenuItem> menuItems
   :outertype: CreatePostActivity

networkLabel
^^^^^^^^^^^^

.. java:field::  TextView networkLabel
   :outertype: CreatePostActivity

progressBar
^^^^^^^^^^^

.. java:field::  ProgressBar progressBar
   :outertype: CreatePostActivity

Methods
-------
onCreate
^^^^^^^^

.. java:method:: @Override protected void onCreate(Bundle savedInstanceState)
   :outertype: CreatePostActivity

onCreateOptionsMenu
^^^^^^^^^^^^^^^^^^^

.. java:method:: @Override public boolean onCreateOptionsMenu(Menu menu)
   :outertype: CreatePostActivity

onOptionsItemSelected
^^^^^^^^^^^^^^^^^^^^^

.. java:method:: @Override public boolean onOptionsItemSelected(MenuItem item)
   :outertype: CreatePostActivity

   This function handles what happens when our format toggle buttons are clicked. We want to update the content formatting when this happens as well with Spannables. Check out https://stackoverflow.com/questions/10828182/spannablestringbuilder-to-create-string-with-multiple-fonts-text-sizes-etc-examp for more info.

   :param item: the MenuItem that was tapped.

onStop
^^^^^^

.. java:method:: @Override public void onStop()
   :outertype: CreatePostActivity

   This ensures that we are canceling all network requests if the user is leaving this activity. We use a RequestFilter that accepts all requests (meaning it cancels all requests)

updateIconToggles
^^^^^^^^^^^^^^^^^

.. java:method:: public void updateIconToggles(SparseBooleanArray formTogState, SparseArray<int[]> toggleIcons)
   :outertype: CreatePostActivity

   This fancy function uses our SparseArray's to concisely iterate over our toggle icons and update their colors - white if untoggled, black if toggled.

